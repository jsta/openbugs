<!DOCTYPE html PUBLIC "-//W3C//DTD Html 1.0 Strict//EN" "http://www.w3.org/TR/Html1/DTD/strict.dtd"><html><head><title>Functionals</title></head><body><p><font face="Arial" color="#000100" size="1"></font><font face="Arial" color="#000100" size="3"><strong><img src="functionals0.bmp" alt="[functionals0]"></strong></font><font face="Arial" color="#0000FF" size="5"><strong>&nbsp;&nbsp;&nbsp;</strong></font><font face="Courier New" color="#000100" size="6">Functionals: integration and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;algebraic equations</font><font face="Arial" color="#0000FF" size="5"><strong><br><br></strong></font><font face="Arial" color="#000100" size="3">In the BUGS language logical nodes can be functions of other logical nodes. Sometimes a logical node is needed that depends on another logical node evaluated at arbitrary points. One example is an definite integral and another is an algebraic equation. We call these more general logical nodes &quot;functionals&quot; and introduce a special notation to describe them. A slot in a logical node that has a F(x) parameter is able to ask the F(x) logical node to be evaluated at any value of its special argument z. <br><br>Two examples: <br>&nbsp;&nbsp;&nbsp;integral(F(x), lower, upper, tol) is functional that evaluates the definite integral of F(x) with <br>&nbsp;&nbsp;&nbsp;respect to x between lower and upper with an accuracy of tol, <br><br>&nbsp;&nbsp;&nbsp;solution(F(x), lower, upper, tol) finds a solution of the algebraic equation F(x) = 0 lying<br>&nbsp;&nbsp;&nbsp;between lower and upper with accuracy tol.<br><br>In the simple model the first two functionals do not depend on any stochastic nodes and hence reduce to constants. Set the prec field in the &quot;Display&nbsp;options&quot; to 10 and then use the &quot;Node&nbsp;info...&quot; tool to see the values of int, sol and zero.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int 1.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sol 0.3459548158</font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zero -6.9388939E-17</font><font face="Arial" color="#000100" size="2"><br></font><font face="Arial" color="#000100" size="1"><br></font><font face="Arial" color="#000100" size="3">The third functional depends on a stochastic variable limit and so changes it value as limit changes.<br></font><font face="Arial" color="#000100" size="3"><strong><br></strong></font><font face="Arial" color="#000100" size="1">&nbsp;&nbsp;&nbsp;</font><font face="Arial" color="#000100" size="3">model{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F(x[1]) &lt;- cos(x[1])<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int &lt;- integral(F(x[1]), 0, halfPi, 1.0E-6)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;halfPi &lt;- 3.141592659 / 2<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sol &lt;- solution(F(x[2]), 0, 1, 1.0E-6)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F(x[2]) &lt;- x[2] * x[2] - pow(1 - x[2], 5)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zero &lt;- sol * sol - pow(1 - sol, 5)<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int1 &lt;- integral(F(x[3]), 0, limit, 1.0E-6)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F(x[3]) &lt;- cos(x[3]) * cos(x[3]) + sin(x[3]) * sin(x[3])<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit ~ dunif(0, 1)<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#0000FF" size="5"><strong>Inits</strong></font><font face="Arial" color="#000100" size="3"> list(limit = 0.5)</font><font face="Arial" color="#000100" size="2"><br>&nbsp;&nbsp;&nbsp;<br></font><font face="Arial" color="#000100" size="5"><strong><br></strong></font></p></body></html>